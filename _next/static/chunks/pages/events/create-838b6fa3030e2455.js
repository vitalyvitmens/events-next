(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{7952:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/events/create",function(){return s(2783)}])},837:(e,t,s)=>{"use strict";s.d(t,{O:()=>r});var i=s(5893),a=s(7536),n=s(6312),l=s(6891);let r=e=>{var t;let{onSubmit:s,cancelHandler:r,isEdit:d,data:o}=e,{register:c,handleSubmit:m,formState:{errors:g}}=(0,a.cI)({resolver:(0,n.F)(l.$z),mode:"onChange",defaultValues:{title:(null==o?void 0:o.title)||"",description:(null==o?void 0:o.description)||"",date:(null==o?void 0:o.date)?new Date(o.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]}});return(0,i.jsxs)("form",{onSubmit:m(s),children:[(0,i.jsx)("div",{className:"space-y-12 p-8 font-sans shadow-xl mt-2 border border-[#962433] rounded-md bg-gradient-to-bl from-sky-200 to-indigo-600",children:(0,i.jsxs)("div",{className:"border-b border-gray-900/10 pb-12",children:[(0,i.jsx)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:"Событие"}),(0,i.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:"Заполните форму для создания события"}),(0,i.jsxs)("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[(0,i.jsxs)("div",{className:"sm:col-span-4",children:[(0,i.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium leading-6 text-gray-900",children:"Название"}),(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md",children:(0,i.jsx)("input",{type:"text",id:"title",autoComplete:"title",className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",...c("title")})})}),(0,i.jsx)("p",{className:"mt-3 text-sm leading-6 text-gray-600",children:null===(t=g.title)||void 0===t?void 0:t.message})]}),(0,i.jsxs)("div",{className:"col-span-full",children:[(0,i.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium leading-6 text-gray-900",children:"Описание"}),(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)("textarea",{id:"description",rows:3,className:"block w-full rounded-md border-0 py-1.5 bg-transparent text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",...c("description")})}),g.description?(0,i.jsx)("p",{className:"mt-3 text-sm leading-6 text-red-500",children:g.description.message}):(0,i.jsx)("p",{className:"mt-3 text-sm leading-6 text-gray-600",children:"Напишите несколько предложений о предстоящем мероприятии"})]}),(0,i.jsxs)("div",{className:"col-span-full",children:[(0,i.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium leading-6 text-gray-900",children:"Дата проведения"}),(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)("input",{id:"date",type:"date",className:"block rounded-md border-0 py-1.5 bg-transparent text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",...c("date")})}),g.date&&(0,i.jsx)("p",{className:"mt-3 text-sm leading-6 text-red-500",children:g.date.message})]})]})]})}),(0,i.jsxs)("div",{className:"mt-2 flex items-center justify-end gap-x-6",children:[(0,i.jsx)("button",{type:"button",className:"text-lg font-semibold leading-6 text-red-600",onClick:r,children:"Отмена"}),(0,i.jsx)("button",{type:"submit",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:d?"Обновить":"Создать"})]})]})}},2783:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var i=s(5893),a=s(837),n=s(6891),l=s(1163);function r(){let e=(0,l.useRouter)(),{mutate:t}=n.SX.event.create.useMutation({onSuccess:t=>{e.replace("/events/".concat(t.id))}});return(0,i.jsx)(a.O,{onSubmit:e=>{t(e)},cancelHandler:()=>{e.replace("/")}})}}},e=>{var t=t=>e(e.s=t);e.O(0,[345,888,774,179],()=>t(7952)),_N_E=e.O()}]);
"use strict";(()=>{var e={};e.id=603,e.ids=[603],e.modules={1013:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>g,default:()=>x,getServerSideProps:()=>u,getStaticPaths:()=>p,getStaticProps:()=>c,reportWebVitals:()=>h,routeModule:()=>y,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>f});var a=s(7093),d=s(5244),i=s(1323),l=s(1070),n=s(3893),o=s(325),m=e([n,o]);[n,o]=m.then?(await m)():m;let x=(0,i.l)(o,"default"),c=(0,i.l)(o,"getStaticProps"),p=(0,i.l)(o,"getStaticPaths"),u=(0,i.l)(o,"getServerSideProps"),g=(0,i.l)(o,"config"),h=(0,i.l)(o,"reportWebVitals"),f=(0,i.l)(o,"unstable_getStaticProps"),b=(0,i.l)(o,"unstable_getStaticPaths"),v=(0,i.l)(o,"unstable_getStaticParams"),j=(0,i.l)(o,"unstable_getServerProps"),N=(0,i.l)(o,"unstable_getServerSideProps"),y=new a.PagesRouteModule({definition:{kind:d.x.PAGES,page:"/events/[id]/edit",pathname:"/events/[id]/edit",bundlePath:"",filename:""},components:{App:n.default,Document:l.default},userland:o});r()}catch(e){r(e)}})},4920:(e,t,s)=>{s.d(t,{K7:()=>n,Xz:()=>o,lx:()=>m});var r=s(997),a=s(5675),d=s.n(a),i=s(1664),l=s.n(i);let n=({id:e,title:t,description:s,date:a,action:i})=>(0,r.jsxs)("div",{className:"flex font-sans shadow-xl mt-2 border border-[#962433] rounded-md bg-gradient-to-bl from-sky-200 to-indigo-600",children:[r.jsx("div",{className:"flex-none w-48 relative",children:r.jsx(d(),{src:"/poster.png",alt:"Poster",className:"absolute inset-0 w-full h-full object-cover rounded-l-md",fill:!0,sizes:"(min-width: 75em) 33vw, (min-width: 48em) 50vw, 100vw",priority:!0})}),(0,r.jsxs)("div",{className:"flex-auto p-6",children:[(0,r.jsxs)("div",{className:"flex flex-wrap -mt-6 pt-6 pb-6",children:[r.jsx("h1",{className:"flex-auto text-lg font-semibold text-slate-900",children:t}),r.jsx("div",{className:"text-lg font-semibold text-slate-500",children:a.toDateString()}),r.jsx("div",{className:"w-full flex-none text-sm font-medium text-slate-700 mt-2",children:s})]}),r.jsx("div",{className:"flex space-x-4 text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex-auto flex space-x-4",children:[i,r.jsx(l(),{href:`/events/${e}`,className:"h-10 px-6 font-semibold rounded-md border border-slate-200 text-slate-900 align-middle leading-10",children:"Подробнее"})]})})]})]}),o=({title:e,description:t,date:s,participations:a})=>(0,r.jsxs)("div",{className:"p-8 font-sans shadow-xl mt-2 border border-[#962433] rounded-md bg-gradient-to-bl from-sky-200 to-indigo-600",children:[r.jsx("div",{className:"px-4 sm:px-0",children:r.jsx("h3",{className:"text-base font-semibold leading-7 text-gray-900",children:"Информация о событии"})}),r.jsx("div",{className:"mt-6 border-t border-gray-100",children:(0,r.jsxs)("dl",{className:"divide-y divide-gray-100",children:[(0,r.jsxs)("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[r.jsx("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Название"}),r.jsx("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:e})]}),(0,r.jsxs)("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[r.jsx("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Описание"}),r.jsx("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:t})]}),(0,r.jsxs)("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[r.jsx("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Дата проведения"}),r.jsx("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:s.toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[r.jsx("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Участники"}),r.jsx("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:a.map(({user:e})=>e.name).join(", ")})]})]})})]});s(6689);let m=({text:e})=>r.jsx("div",{className:"flex w-max p-8 rounded-xl mx-auto mt-40 text-4xl text-red-600 font-bold bg-[#b7f1b2] border-2 border-[#962433]",children:e})},325:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>x});var a=s(997),d=s(8756),i=s(5282),l=s(1163),n=s(1649),o=s(4920),m=e([d,i]);function x(){let e=(0,l.useRouter)(),t=(0,n.useSession)(),{data:s,isLoading:r}=i.SX.event.findUnique.useQuery({id:Number(e.query.id)}),{mutate:m}=i.SX.event.update.useMutation({onSuccess:()=>{e.push(`/events/${e.query.id}`)}});return r?a.jsx(o.lx,{text:"Loading..."}):"unauthenticated"===t.status?a.jsx(o.lx,{text:"Forbidden"}):s?a.jsx(d.O,{onSubmit:t=>{m({id:Number(e.query.id),...t})},cancelHandler:()=>{e.push(`/events/${e.query.id}`)},data:s,isEdit:!0}):a.jsx(o.lx,{text:"Event not found"})}[d,i]=m.then?(await m)():m,r()}catch(e){r(e)}})},1649:e=>{e.exports=require("next-auth/react")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},1656:e=>{e.exports=import("@hookform/resolvers/zod")},272:e=>{e.exports=import("@trpc/client")},7455:e=>{e.exports=import("@trpc/next")},4936:e=>{e.exports=import("@trpc/next/ssrPrepass")},5641:e=>{e.exports=import("react-hook-form")},3020:e=>{e.exports=import("superjson")},9926:e=>{e.exports=import("zod")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[117,61,859,342,920],()=>s(1013));module.exports=r})();
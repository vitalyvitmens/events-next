(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[32],{812:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/events/[id]",function(){return t(3500)}])},4920:(e,s,t)=>{"use strict";t.d(s,{K7:()=>r,Xz:()=>m,lx:()=>x});var d=t(5893),l=t(5675),a=t.n(l),i=t(1664),n=t.n(i);let r=e=>{let{id:s,title:t,description:l,date:i,action:r}=e;return(0,d.jsxs)("div",{className:"flex font-sans shadow-xl mt-2 border border-[#962433] rounded-md bg-gradient-to-bl from-sky-200 to-indigo-600",children:[(0,d.jsx)("div",{className:"flex-none w-48 relative",children:(0,d.jsx)(a(),{src:"/poster.png",alt:"Poster",className:"absolute inset-0 w-full h-full object-cover rounded-l-md",fill:!0,sizes:"(min-width: 75em) 33vw, (min-width: 48em) 50vw, 100vw",priority:!0})}),(0,d.jsxs)("div",{className:"flex-auto p-6",children:[(0,d.jsxs)("div",{className:"flex flex-wrap -mt-6 pt-6 pb-6",children:[(0,d.jsx)("h1",{className:"flex-auto text-lg font-semibold text-slate-900",children:t}),(0,d.jsx)("div",{className:"text-lg font-semibold text-slate-500",children:i.toDateString()}),(0,d.jsx)("div",{className:"w-full flex-none text-sm font-medium text-slate-700 mt-2",children:l})]}),(0,d.jsx)("div",{className:"flex space-x-4 text-sm font-medium",children:(0,d.jsxs)("div",{className:"flex-auto flex space-x-4",children:[r,(0,d.jsx)(n(),{href:"/events/".concat(s),className:"h-10 px-6 font-semibold rounded-md border border-slate-200 text-slate-900 align-middle leading-10",children:"Подробнее"})]})})]})]})},m=e=>{let{title:s,description:t,date:l,participations:a}=e;return(0,d.jsxs)("div",{className:"p-8 font-sans shadow-xl mt-2 border border-[#962433] rounded-md bg-gradient-to-bl from-sky-200 to-indigo-600",children:[(0,d.jsx)("div",{className:"px-4 sm:px-0",children:(0,d.jsx)("h3",{className:"text-base font-semibold leading-7 text-gray-900",children:"Информация о событии"})}),(0,d.jsx)("div",{className:"mt-6 border-t border-gray-100",children:(0,d.jsxs)("dl",{className:"divide-y divide-gray-100",children:[(0,d.jsxs)("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Название"}),(0,d.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:s})]}),(0,d.jsxs)("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Описание"}),(0,d.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:t})]}),(0,d.jsxs)("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Дата проведения"}),(0,d.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:l.toLocaleDateString()})]}),(0,d.jsxs)("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Участники"}),(0,d.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:a.map(e=>{let{user:s}=e;return s.name}).join(", ")})]})]})})]})};t(7294);let x=e=>{let{text:s}=e;return(0,d.jsx)("div",{className:"flex w-max p-8 rounded-xl mx-auto mt-40 text-4xl text-red-600 font-bold bg-[#b7f1b2] border-2 border-[#962433]",children:s})}},3500:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var d=t(5893),l=t(4920),a=t(6891),i=t(1163),n=t(3299),r=t(1664),m=t.n(r);function x(){var e;let s=(0,i.useRouter)(),t=(0,n.useSession)(),{data:r,isLoading:x}=a.SX.event.findUnique.useQuery({id:Number(s.query.id)});return x?(0,d.jsx)(l.lx,{text:"Loading..."}):"unauthenticated"===t.status?(0,d.jsx)(l.lx,{text:"Forbidden"}):r?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.Xz,{...r}),(null==r?void 0:r.authorId)===(null===(e=t.data)||void 0===e?void 0:e.user.id)&&(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)(m(),{className:"h-10 mt-2 px-6 font-semibold rounded-md bg-indigo-500 text-white align-middle leading-10",href:"/events/".concat(s.query.id,"/edit"),children:"Редактировать"})})]}):(0,d.jsx)(l.lx,{text:"Event not found"})}},1163:(e,s,t)=>{e.exports=t(9090)}},e=>{var s=s=>e(e.s=s);e.O(0,[888,774,179],()=>s(812)),_N_E=e.O()}]);
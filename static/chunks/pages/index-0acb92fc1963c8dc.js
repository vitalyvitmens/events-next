(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9900)}])},4920:(e,s,t)=>{"use strict";t.d(s,{K7:()=>r,Xz:()=>m,lx:()=>x});var d=t(5893),l=t(5675),n=t.n(l),i=t(1664),a=t.n(i);let r=e=>{let{id:s,title:t,description:l,date:i,action:r}=e;return(0,d.jsxs)("div",{className:"flex font-sans shadow-xl mt-2 border border-[#962433] rounded-md bg-gradient-to-bl from-sky-200 to-indigo-600",children:[(0,d.jsx)("div",{className:"flex-none w-48 relative",children:(0,d.jsx)(n(),{src:"/poster.png",alt:"Poster",className:"absolute inset-0 w-full h-full object-cover rounded-l-md",fill:!0,sizes:"(min-width: 75em) 33vw, (min-width: 48em) 50vw, 100vw",priority:!0})}),(0,d.jsxs)("div",{className:"flex-auto p-6",children:[(0,d.jsxs)("div",{className:"flex flex-wrap -mt-6 pt-6 pb-6",children:[(0,d.jsx)("h1",{className:"flex-auto text-lg font-semibold text-slate-900",children:t}),(0,d.jsx)("div",{className:"text-lg font-semibold text-slate-500",children:i.toDateString()}),(0,d.jsx)("div",{className:"w-full flex-none text-sm font-medium text-slate-700 mt-2",children:l})]}),(0,d.jsx)("div",{className:"flex space-x-4 text-sm font-medium",children:(0,d.jsxs)("div",{className:"flex-auto flex space-x-4",children:[r,(0,d.jsx)(a(),{href:"/events/".concat(s),className:"h-10 px-6 font-semibold rounded-md border border-slate-200 text-slate-900 align-middle leading-10",children:"Подробнее"})]})})]})]})},m=e=>{let{title:s,description:t,date:l,participations:n}=e;return(0,d.jsxs)("div",{className:"p-8 font-sans shadow-xl mt-2 border border-[#962433] rounded-md bg-gradient-to-bl from-sky-200 to-indigo-600",children:[(0,d.jsx)("div",{className:"px-4 sm:px-0",children:(0,d.jsx)("h3",{className:"text-base font-semibold leading-7 text-gray-900",children:"Информация о событии"})}),(0,d.jsx)("div",{className:"mt-6 border-t border-gray-100",children:(0,d.jsxs)("dl",{className:"divide-y divide-gray-100",children:[(0,d.jsxs)("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Название"}),(0,d.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:s})]}),(0,d.jsxs)("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Описание"}),(0,d.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:t})]}),(0,d.jsxs)("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Дата проведения"}),(0,d.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:l.toLocaleDateString()})]}),(0,d.jsxs)("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Участники"}),(0,d.jsx)("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:n.map(e=>{let{user:s}=e;return s.name}).join(", ")})]})]})})]})};t(7294);let x=e=>{let{text:s}=e;return(0,d.jsx)("div",{className:"flex w-max p-8 rounded-xl mx-auto mt-40 text-4xl text-red-600 font-bold bg-[#b7f1b2] border-2 border-[#962433]",children:s})}},9900:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var d=t(5893),l=t(4920),n=t(6891);let i=e=>{let{eventId:s,onSuccess:t}=e,{mutate:l}=n.SX.event.join.useMutation({onSuccess:t});return(0,d.jsx)("button",{className:"h-10 px-6 font-semibold rounded-md bg-black text-white",onClick:()=>{l({id:s})},children:"Присоединиться"})},a=e=>{let{eventId:s,onSuccess:t}=e,{mutate:l}=n.SX.event.leave.useMutation({onSuccess:t});return(0,d.jsx)("button",{className:"h-10 px-6 font-semibold rounded-md bg-red-500 text-white",onClick:()=>{l({id:s})},children:"Покинуть"})},r={title:"Events",description:"Find and join the best events around you!"};var m=t(9008),x=t.n(m);function c(){let{data:e,refetch:s}=n.SX.event.findMany.useQuery();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(x(),{children:[(0,d.jsx)("title",{children:r.title}),(0,d.jsx)("meta",{name:"description",content:r.description})]}),(0,d.jsx)("ul",{children:null==e?void 0:e.map(e=>(0,d.jsx)("li",{children:(0,d.jsx)(l.K7,{...e,action:e.isJoined?(0,d.jsx)(a,{eventId:e.id,onSuccess:s}):(0,d.jsx)(i,{eventId:e.id,onSuccess:s})})},e.id))})]})}},9008:(e,s,t)=>{e.exports=t(7828)}},e=>{var s=s=>e(e.s=s);e.O(0,[888,774,179],()=>s(8312)),_N_E=e.O()}]);